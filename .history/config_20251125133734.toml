[llm]
base_url = "http://127.0.0.1:8080/v1"
model    = "numind/NuExtract-2.0-8B"
api_key  = "sk-local"
use_grammar = false
# BELANGRIJK: Verhoogd naar 1024 zodat de lijsten met criteria niet worden afgekapt
max_tokens = 1024
temperature = 0.0

[pdf]
path = "data/dys064.pdf"
max_pages = 40

# ---------- PASS A: structural / identity fields ----------
[task_main]
template_json = """
{
  "pid": "string",
  "study_name": "string",
  "study_acronym": "string",
  "study_types": ["string"],
  "cohort_type": "string",
  "website": "string",
  "start_year": "integer",
  "end_year": "integer",
  "contact_email": "string",
  "n_included": "integer",
  "countries": ["verbatim-string"],
  "regions": ["verbatim-string"],
  "population_age_group": "string"
}
"""

instructions = """
Extract the following fields from the paper. If a field cannot be determined, return null (single value) or [] (lists).

- pid: 
  Find the actual DOI string in the text (usually starts with "10.").
  Example text to look for: "https://doi.org/10.1186/..."
  IMPORTANT: Do NOT output the placeholder "10.xxxx/...". Extract the real numbers.

- study_name: Name of the cohort (e.g. "OncoLifeS").
- study_acronym: Explicit acronym (e.g. "OncoLifeS").

- study_types: 
  High-level labels. Choose from: "Biobank", "Cohort study", "Clinical trial", "Registry", "Network".
  
- cohort_type: 
  Specific subtype. E.g. "hospital-based cohort", "population-based cohort", "prospective cohort".

- website: Public URL for the study.
- contact_email: Contact email address.
- n_included: Number of participants included in the analysis or biobank (e.g. 3704).

- start_year: The year when recruitment or data collection began (e.g. 2014).

- end_year: 
  The year when recruitment explicitly STOPPED. 
  CRITICAL RULE: If the study is "ongoing", "continuous", or if the date is a future projection (e.g. "expected to reach... by 2023"), return null.

- countries:
  List of countries where recruitment took place.
  If the study is hospital-based, include the country of the hospital (e.g. "Netherlands").

- regions:
  Specific cities or sub-national regions (e.g. "Groningen", "North of the Netherlands").

- population_age_group:
  The age range of eligible participants (e.g. "â‰¥18 years").
"""

# ---------- PASS B: criteria + design ONLY ----------
[task_criteria]
template_json = """
{
  "inclusion_criteria": ["string"],
  "other_inclusion_criteria": ["string"],
  "exclusion_criteria": ["string"],
  "other_exclusion_criteria": ["string"],
  "clinical_study_types": ["string"]
}
"""

instructions = """
Extract ONLY the following fields. Return short, concise phrases.

- inclusion_criteria:
  The main disease groups or participant categories eligible for the study.
  Extract the core definition.
  Examples: "patients with cancer", "patients with genetically increased cancer risk".
  Do NOT include age here (put that in population_age_group in the previous task).
  Do NOT include geographic locations here.

- other_inclusion_criteria:
  Administrative or procedural requirements.
  Example: "informed consent", "referral by GP".

- exclusion_criteria:
  Specific medical or functional conditions that disqualify a participant.
  Example: "cognitive impairment", "terminal illness".
  If the text says "without further exclusion criteria", return [].

- other_exclusion_criteria:
  Non-medical reasons for exclusion (e.g. "inability to speak the language").

- clinical_study_types:
  Description of the study design using terms found in the text.
  Look for keywords like: "prospective", "retrospective", "observational", "hospital-based", "biobank", "cohort".
  Combine them into a phrase like: "prospective hospital-based data-biobank".
"""

[logging]
level = "INFO"